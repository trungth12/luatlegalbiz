{"ast":null,"code":"var __jsx = React.createElement;\nimport React from 'react';\nimport dynamic from 'next/dynamic';\nimport withData from 'src/data/shared/DataProvider';\nimport { useRouter } from 'next/router';\nimport Head from 'next/head';\nimport { NextSeo } from 'next-seo';\nvar Article = dynamic(function () {\n  return import('src/components/article');\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('src/components/article')];\n    },\n    modules: ['src/components/article']\n  }\n});\nvar Category = dynamic(function () {\n  return import('src/components/categories');\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('src/components/categories')];\n    },\n    modules: ['src/components/categories']\n  }\n});\n\nvar stringToArray = function stringToArray(str) {\n  if (str) {\n    return str.split(\",\");\n  } else {\n    return [];\n  }\n};\n\nvar AmpHead = function AmpHead(_ref) {\n  var data = _ref.data;\n  var tags = data.post ? stringToArray(data.post.tags) : data.category ? stringToArray(data.category.tags) : [];\n  var keywords = data.post ? stringToArray(data.post.keywords) : data.category ? stringToArray(data.category.keywords) : [];\n  var publishedTime = data.post ? data.post.created_at : data.category ? data.category.created_at : new Date();\n  var additionalMetaTags = [{\n    property: 'keywords',\n    content: keywords\n  }];\n  return __jsx(React.Fragment, null, __jsx(Head, null, __jsx(\"link\", {\n    rel: \"amphtml\",\n    href: \"https://\".concat(data.settings.domain, \"/amp/\").concat(data.meta.slug)\n  }), __jsx(\"title\", null, data.meta.seo.title)), __jsx(NextSeo, {\n    additionalMetaTags: additionalMetaTags,\n    openGraph: {\n      title: data.meta.seo.title,\n      description: data.meta.seo.title,\n      url: \"https://\".concat(data.settings.domain, \"/\").concat(data.meta.slug),\n      type: data.post ? 'article' : 'category',\n      article: {\n        publishedTime: publishedTime,\n        modifiedTime: publishedTime,\n        authors: [],\n        tags: tags\n      },\n      images: [{\n        url: 'https://www.test.ie/images/cover.jpg',\n        width: 850,\n        height: 650,\n        alt: data.meta.seo.title\n      }]\n    }\n  }));\n};\n\nvar Index = function Index(_ref2) {\n  var data = _ref2.data,\n      error = _ref2.error;\n\n  var _useRouter = useRouter(),\n      isFallback = _useRouter.isFallback;\n\n  return __jsx(React.Fragment, null, Boolean(error) ? JSON.stringify(error, null, 2) : null, isFallback ? \"...loading\" : null, Boolean(data) && Boolean(data.post) ? __jsx(React.Fragment, null, __jsx(AmpHead, {\n    data: data\n  }), __jsx(Article, null)) : null, Boolean(data) && Boolean(data.category) ? __jsx(React.Fragment, null, __jsx(AmpHead, {\n    data: data\n  }), __jsx(Category, null)) : null);\n};\n\nexport var __N_SSG = true;\nexport default withData(Index);","map":null,"metadata":{},"sourceType":"module"}