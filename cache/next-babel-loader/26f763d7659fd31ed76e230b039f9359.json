{"ast":null,"code":"var __jsx = React.createElement;\nimport React from 'react';\nimport dynamic from 'next/dynamic';\nimport withData from 'src/data/shared/DataProvider';\nimport { useRouter } from 'next/router';\nimport Head from 'next/head';\nimport { NextSeo } from 'next-seo';\nimport { getStaticPaths as gSP } from 'src/data/slug';\nconst Article = dynamic(() => import('src/components/article'), {\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('src/components/article')],\n    modules: ['src/components/article']\n  }\n});\nconst Category = dynamic(() => import('src/components/categories'), {\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('src/components/categories')],\n    modules: ['src/components/categories']\n  }\n});\n\nconst stringToArray = str => {\n  if (str) {\n    return str.split(\",\");\n  } else {\n    return [];\n  }\n};\n\nconst AmpHead = ({\n  data\n}) => {\n  const tags = data.post ? stringToArray(data.post.tags) : data.category ? stringToArray(data.category.tags) : [];\n  const keywords = data.post ? stringToArray(data.post.keywords) : data.category ? stringToArray(data.category.keywords) : [];\n  const publishedTime = data.post ? data.post.created_at : data.category ? data.category.created_at : new Date();\n  const additionalMetaTags = [{\n    property: 'keywords',\n    content: keywords\n  }];\n  return __jsx(React.Fragment, null, __jsx(Head, null, __jsx(\"link\", {\n    rel: \"amphtml\",\n    href: `https://${data.settings.domain}/amp/${data.meta.slug}`\n  }), __jsx(\"title\", null, data.meta.seo.title)), __jsx(NextSeo, {\n    additionalMetaTags: additionalMetaTags,\n    openGraph: {\n      title: data.meta.seo.title,\n      description: data.meta.seo.title,\n      url: `https://${data.settings.domain}/${data.meta.slug}`,\n      type: data.post ? 'article' : 'category',\n      article: {\n        publishedTime,\n        modifiedTime: publishedTime,\n        authors: [],\n        tags\n      },\n      images: [{\n        url: 'https://www.test.ie/images/cover.jpg',\n        width: 850,\n        height: 650,\n        alt: data.meta.seo.title\n      }]\n    }\n  }));\n};\n\nconst Index = ({\n  data,\n  error\n}) => {\n  const {\n    isFallback\n  } = useRouter();\n  return __jsx(React.Fragment, null, Boolean(error) ? JSON.stringify(error, null, 2) : null, isFallback ? \"...loading\" : null, Boolean(data) && Boolean(data.post) ? __jsx(React.Fragment, null, __jsx(AmpHead, {\n    data: data\n  }), __jsx(Article, null)) : null, Boolean(data) && Boolean(data.category) ? __jsx(React.Fragment, null, __jsx(AmpHead, {\n    data: data\n  }), __jsx(Category, null)) : null);\n};\n\nexport default withData(Index);\nexport { getStaticProps } from 'src/data/slug';\nexport const getStaticPaths = gSP();","map":null,"metadata":{},"sourceType":"module"}