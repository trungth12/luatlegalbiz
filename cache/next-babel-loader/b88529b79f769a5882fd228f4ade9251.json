{"ast":null,"code":"import jwt from 'jsonwebtoken';\n\nconst handler = (req, res) => {\n  const {\n    username,\n    password\n  } = req.body;\n\n  if (username === process.env.adminUser && password === process.env.adminPassword) {\n    const claim = {\n      \"https://hasura.io/jwt/claims\": {\n        \"x-hasura-allowed-roles\": [\"admin\"],\n        \"x-hasura-default-role\": \"admin\",\n        \"x-hasura-user-id\": process.env.adminUser\n      }\n    };\n    const token = jwt.sign(claim, process.env.jwtSecretKey);\n    res.json({\n      token\n    });\n  } else {\n    res.json({\n      message: 'Error'\n    });\n  }\n};\n\nexport default handler;","map":null,"metadata":{},"sourceType":"module"}